(this["webpackJsonpmovie-reminder"]=this["webpackJsonpmovie-reminder"]||[]).push([[7],{37:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(12),r=a(13),i="dc090ca63005b139171720979eb0186c",o=function(){function e(){Object(n.a)(this,e),this.apiBaseUrl="https://api.themoviedb.org/3",this.imageBaseUrl="https://image.tmdb.org/t/p"}return Object(r.a)(e,[{key:"getImageMovie",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return e?"".concat(this.imageBaseUrl,"/w").concat(t).concat(e):"".concat("","/placeholder.jpg")}},{key:"getActorProfile",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return e?"".concat(this.imageBaseUrl,"/w").concat(t).concat(e):"https://via.placeholder.com/200x300"}},{key:"searchMovie",value:function(e,t){var a=this;return new Promise((function(n,r){var o="".concat(a.apiBaseUrl,"/search/movie?api_key=").concat(i,"&language=fr-FR&query=").concat(e,"&page=").concat(t);fetch(o).then((function(e){return e.json()})).then((function(e){7===e.status_code?r(e.status_message):n(e.results)}))}))}},{key:"getActorDetails",value:function(e){var t=this;return new Promise((function(a,n){var r="".concat(t.apiBaseUrl,"/person/").concat(e,"?api_key=").concat(i,"&language=fr-FR");fetch(r).then((function(e){return e.json()})).then((function(e){return e?a(e):n()}))}))}},{key:"getActorMovies",value:function(e){var t=this;return new Promise((function(a,n){var r="".concat(t.apiBaseUrl,"/person/").concat(e,"/movie_credits?api_key=").concat(i,"&language=fr-FR");fetch(r).then((function(e){return e.json()})).then((function(e){return e?a(e):n()}))}))}},{key:"getMovieDetail",value:function(e){var t=this;return new Promise((function(a,n){var r="".concat(t.apiBaseUrl,"/movie/").concat(e,"?api_key=").concat(i,"&language=fr-FR");fetch(r).then((function(e){return e.json()})).then((function(e){7===e.status_code?n(e.status_message):a(e)}))}))}},{key:"getMovieCredits",value:function(e){var t=this;return new Promise((function(a,n){var r="".concat(t.apiBaseUrl,"/movie/").concat(e,"/credits?api_key=").concat(i,"&language=fr-FR");fetch(r).then((function(e){return e.json()})).then((function(e){7===e.status_code?n(e.status_message):a(e)}))}))}}]),e}()},38:function(e,t,a){"use strict";var n=a(0),r=a.n(n),i=a(39),o=a.n(i);t.a=function(e){var t=null;return e.viewOnly||(t=r.a.createElement("button",{onClick:function(){return e.addToFavorite(e.movie)},className:"btn-action add-to-favorites"},"Ajouter"),(e.onlyDelete||e.movie.inFav)&&(t=r.a.createElement("button",{onClick:function(){return e.deleteMovieFromFavorites(e.movie)},className:"btn-action remove-from-favorites"},"Supprimer"))),r.a.createElement("li",{className:"movie-card"},navigator.onLine&&r.a.createElement("img",{src:e.movieImage,onClick:function(){return e.seeMovieDetails(e.movie.id)},alt:"Affiche de ".concat(e.movie.title),className:"movie-card__img cursorPointer"}),r.a.createElement("p",{className:"movie-card__title"},e.movie.title),r.a.createElement("p",{className:"movie-card__release"},o()(e.movie.release_date).format("DD/MM/YYYY")),r.a.createElement("div",{className:"movie-card__action"},e.indexedDbSupported&&t,navigator.onLine&&r.a.createElement("button",{onClick:function(){return e.seeMovieDetails(e.movie.id)},className:"btn-action movie-details"},"D\xe9tails")))}},48:function(e,t,a){"use strict";a.r(t);var n=a(12),r=a(13),i=a(14),o=a(15),c=a(0),s=a.n(c),l=a(5),u=a(39),m=a.n(u),v=a(37),h=a(38),f=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var r;return Object(n.a)(this,a),(r=t.call(this,e)).fetchActor=function(e){r.movieFinder.getActorDetails(e).then((function(e){r.setState({actorDetails:e})})).catch((function(e){r.setState({errorFetch:!0})}))},r.fetchActorMovies=function(e){r.movieFinder.getActorMovies(e).then((function(e){return e.cast&&e.cast.length?r.setState({actorMovies:e}):null})).catch((function(e){r.setState({errorFetch:!0})}))},r.renderActorDetails=function(e){var t=r.movieFinder.getActorProfile(e.profile_path,500),a=e.birthday?m()(e.birthday).format("DD/MM/YYYY"):null,n=e.place_of_birth||null,i=a?"".concat((new Date).getFullYear()-new Date(a).getFullYear()," yo"):null,o=e.deathday||null;return s.a.createElement("div",{className:"layout-single__primary"},s.a.createElement("div",{className:"layout-single__primary__cover"},s.a.createElement("img",{src:t,alt:"Affiche de ".concat(e.name)})),s.a.createElement("div",{className:"layout-single__primary__infos"},s.a.createElement("h1",null,e.name),i&&s.a.createElement("span",{className:"actor-details__age"},i),s.a.createElement("div",{className:"layout-single__left-main"},a&&n&&s.a.createElement("p",null,s.a.createElement("span",{role:"img","aria-label":"emoji poussin"},"\ud83d\udc23")," ",a," - ",n),e.deathday&&s.a.createElement("p",null,s.a.createElement("span",{role:"img","aria-label":"emoji cerceuil"},"\u26b0\ufe0f")," ",o),e.biography&&s.a.createElement("p",{className:"textAlignLeft longText"},s.a.createElement("span",{role:"img","aria-label":"emoji style plume"},"\ud83d\udd8b")," ",e.biography))))},r.seeMovieDetails=function(e){return r.props.history.push("/movie/".concat(e))},r.renderMovie=function(e){return s.a.createElement(h.a,{movieImage:r.movieFinder.getImageMovie(e.poster_path,200),movie:e,key:"".concat(e.id,"-").concat(e.release_date),seeMovieDetails:function(){return r.seeMovieDetails(e.id)}})},r.renderActorMovies=function(e){var t=e.cast.sort((function(e,t){return e.vote_average>t.vote_average?-1:1})).slice(0,12);return s.a.createElement("div",{className:"layout-single__right movies-section actor-movies"},s.a.createElement("h2",null,"Films"),s.a.createElement("ul",{className:"layout-list movies-list"},t.map((function(e){return r.renderMovie(e)}))))},r.state={actorDetails:null,actorMovies:null,errorFetch:null,db:null},r.movieFinder=new v.a,r}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.match.params&&this.props.match.params.id?(this.fetchActor(this.props.match.params.id),this.fetchActorMovies(this.props.match.params.id)):console.log("Impossible de r\xe9cup\xe9rer le d\xe9tail de l'acteur")}},{key:"render",value:function(){return s.a.createElement("section",{className:"single-layout actor-details"},this.state.actorDetails&&this.renderActorDetails(this.state.actorDetails),this.state.actorMovies&&this.renderActorMovies(this.state.actorMovies))}}]),a}(s.a.Component);t.default=Object(l.f)(f)}}]);
//# sourceMappingURL=7.235799ca.chunk.js.map